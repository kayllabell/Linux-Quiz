<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Linux Midterm 2026 CST Level 2</title>
<style>
body {
    background-color: #000;
    color: #0f0;
    font-family: 'Courier New', monospace;
    margin: 0;
    padding: 0;
}
.container {
    max-width: 900px;
    margin: 50px auto;
    padding: 20px;
    border: 2px solid #0f0;
    border-radius: 10px;
    box-shadow: 0 0 20px #0f0;
}
h1, h2 {
    text-align: center;
    text-shadow: 0 0 10px #0f0;
}
h2 {
    margin-top: 0;
}
#cover {
    display: block;
    text-align: center;
    margin-top: 50px;
}
button, input[type="text"] {
    font-family: monospace;
}
.answers button, #next-btn {
    display: block;
    width: 100%;
    margin: 5px 0;
    padding: 10px;
    background: #000;
    border: 2px solid #0f0;
    color: #0f0;
    font-size: 1em;
    cursor: pointer;
    border-radius: 5px;
    transition: 0.2s;
}
.answers button:hover, #next-btn:hover {
    background-color: #0f0;
    color: #000;
    box-shadow: 0 0 10px #0f0;
}
.feedback {
    margin-top: 15px;
    font-weight: bold;
}
#next-btn {
    display: none;
}
#progress {
    margin-bottom: 20px;
}
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}
th, td {
    border: 1px solid #0f0;
    padding: 8px;
    text-align: left;
}
th {
    background-color: #111;
}
td.correct {
    background-color: #0a0;
    color: #000;
}
td.wrong {
    background-color: #a00;
    color: #fff;
}
.meme {
    margin-top: 15px;
    font-style: italic;
    color: #ff0;
}
</style>
</head>
<body>
<div class="container" id="cover">
    <h1>Linux Midterm 2026 CST Level 2</h1>
    <p>‚ö†Ô∏è Disclaimer: This quiz is AI-generated. I am <strong>not responsible</strong> if it tricks you, misleads you, or makes your terminal cry. Use at your own risk! ü§ñüíª</p>
    <button id="start-btn">Start Quiz</button>
</div>

<div class="container" id="quiz" style="display:none;">
    <div id="progress"></div>
    <div class="question" id="question"></div>
    <div class="answers" id="answers"></div>
    <div class="feedback" id="feedback"></div>
    <div class="meme" id="meme"></div>
    <button id="next-btn">Next Question</button>
    <div id="results"></div>
</div>

<script>
// ===================== QUESTION POOL =====================
const questionPool = [
    { q: "Which command schedules a one-time job at a specific time?", type:"multiple-choice", a:["at"], options:["at","cron","sleep","bg"], explanation:"`at` schedules a job at a specific time." },
    { q: "Which command runs a job immediately using the at scheduler?", type:"multiple-choice", a:["at now"], options:["at now","cron now","bg","fg"], explanation:"`at now` executes immediately using `at`." },
    { q: "Which daemon processes at jobs?", type:"multiple-choice", a:["atd"], options:["atd","cron","systemd","rsyslogd"], explanation:"`atd` daemon handles `at` jobs." },
    { q: "Which command removes a scheduled at job?", type:"multiple-choice", a:["atrm"], options:["atrm","atq","rm","kill"], explanation:"`atrm` removes scheduled `at` jobs." },
    { q: "Which command lists pending at jobs?", type:"multiple-choice", a:["atq"], options:["atq","atd","cron","jobs"], explanation:"`atq` lists pending `at` jobs." },
    { q: "Which command is used for pattern scanning and processing?", type:"multiple-choice", a:["awk"], options:["awk","sed","grep","cat"], explanation:"`awk` is for pattern scanning and text processing." },
    { q: "Which command resumes a suspended job in the background?", type:"multiple-choice", a:["bg"], options:["bg","fg","jobs","kill"], explanation:"`bg` resumes a suspended job in the background." },
    { q: "Which command decompresses .bz2 files?", type:"multiple-choice", a:["bunzip2"], options:["bunzip2","bzip2","gzip","gunzip"], explanation:"`bunzip2` decompresses `.bz2` files." },
    { q: "Which command compresses files using the bzip2 algorithm?", type:"multiple-choice", a:["bzip2"], options:["bzip2","bunzip2","gzip","gunzip"], explanation:"`bzip2` compresses files using bzip2." },
    { q: "Which command displays file contents?", type:"multiple-choice", a:["cat"], options:["cat","less","more","head"], explanation:"`cat` outputs file contents." },
    { q: "The command `cd` changes the current directory.", type:"true-false", a:["True"], explanation:"`cd` is used to change directories." },
    { q: "Which command modifies password aging settings?", type:"multiple-choice", a:["chage"], options:["chage","passwd","usermod","chown"], explanation:"`chage` modifies password expiration." },
    { q: "Which command changes a file‚Äôs group ownership?", type:"multiple-choice", a:["chgrp"], options:["chgrp","chown","chmod","grpadd"], explanation:"`chgrp` changes the group ownership." },
    { q: "Which command changes file permissions?", type:"multiple-choice", a:["chmod"], options:["chmod","chown","chgrp","umask"], explanation:"`chmod` changes permissions." },
    { q: "Which command changes file ownership?", type:"multiple-choice", a:["chown"], options:["chown","chgrp","chmod","usermod"], explanation:"`chown` changes file ownership." },
    { q: "The daemon crond runs scheduled cron jobs.", type:"true-false", a:["True"], explanation:"`crond` runs cron jobs as scheduled." },
    { q: "Which command edits a user‚Äôs cron table?", type:"multiple-choice", a:["crontab"], options:["crontab","cronedit","vim /etc/cron","at"], explanation:"`crontab -e` edits cron jobs for a user." },
    { q: "Which daemon synchronizes system time?", type:"multiple-choice", a:["chronyd"], options:["chronyd","ntpd","systemd","timed"], explanation:"`chronyd` keeps system time synchronized." },
    { q: "Which command displays or sets the system date/time?", type:"multiple-choice", a:["date"], options:["date","time","timedatectl","clock"], explanation:"`date` shows or sets system date/time." },
    { q: "Which command shows disk space usage?", type:"multiple-choice", a:["df"], options:["df","du","lsblk","fdisk"], explanation:"`df` shows disk space usage for mounted filesystems." },
    { q: "Which command queries DNS servers?", type:"multiple-choice", a:["dig"], options:["dig","host","nslookup","ping"], explanation:"`dig` queries DNS records." },
    { q: "The command `sudo` runs commands as root.", type:"true-false", a:["True"], explanation:"`sudo` executes commands with root privileges." },
    { q: "Which command lists directory contents?", type:"multiple-choice", a:["ls"], options:["ls","dir","tree","find"], explanation:"`ls` lists files and directories." },
    { q: "Which command searches text patterns in files?", type:"multiple-choice", a:["grep"], options:["grep","awk","sed","find"], explanation:"`grep` searches text patterns." },
    { q: "The `top` command shows system resource usage in real time.", type:"true-false", a:["True"], explanation:"`top` displays running processes and resource usage." },
    { q: "Which command displays the current working directory?", type:"multiple-choice", a:["pwd"], options:["pwd","cd","ls","whoami"], explanation:"`pwd` prints current working directory." },
    { q: "Which command safely edits sudoers?", type:"multiple-choice", a:["visudo"], options:["visudo","nano /etc/sudoers","sudoedit","vim /etc/sudoers"], explanation:"Always use `visudo` to safely edit sudoers." },
    { q: "The root directory is represented by `/`.", type:"true-false", a:["True"], explanation:"`/` is the root of the filesystem." },
    { q: "Which directory contains user home directories?", type:"multiple-choice", a:["/home"], options:["/home","/root","/usr","/var"], explanation:"User homes are stored in `/home`." },
    { q: "Which directory contains bootloader files?", type:"multiple-choice", a:["/boot"], options:["/boot","/bin","/usr","/etc"], explanation:"`/boot` contains bootloader and kernel files." },
    { q: "Which directory stores temporary mounts?", type:"multiple-choice", a:["/mnt"], options:["/mnt","/media","/tmp","/var"], explanation:"Temporary mounts often go in `/mnt`." },
    { q: "Which command prints text to the terminal?", type:"multiple-choice", a:["echo"], options:["echo","print","cat","write"], explanation:"`echo` prints text to terminal." },
    { q: "Which command decompresses .gz files?", type:"multiple-choice", a:["gunzip"], options:["gunzip","gzip","bunzip2","tar"], explanation:"`gunzip` decompresses `.gz` files." },
    { q: "Which command compresses files using gzip?", type:"multiple-choice", a:["gzip"], options:["gzip","gunzip","bzip2","tar"], explanation:"`gzip` compresses files." },
    { q: "Which command shows who is logged in?", type:"multiple-choice", a:["w"], options:["w","who","users","id"], explanation:"`w` shows logged in users." },
    { q: "Which command creates a new user?", type:"multiple-choice", a:["useradd"], options:["useradd","adduser","usermod","passwd"], explanation:"`useradd` creates a new user account." },
    { q: "The command `rm -rf /` is safe to run on your system.", type:"true-false", a:["False"], explanation:"Never run `rm -rf /` unless you want to destroy everything. üíÄ" },
    { q: "Which command shows system uptime?", type:"multiple-choice", a:["uptime"], options:["uptime","time","top","date"], explanation:"`uptime` shows how long the system has been running." },
    { q: "Which command shows IP addresses?", type:"multiple-choice", a:["ip addr"], options:["ip addr","ifconfig","ip link","netstat"], explanation:"`ip addr` lists network interfaces and addresses." },
    { q: "Which command connects to a remote system via SSH?", type:"multiple-choice", a:["ssh"], options:["ssh","telnet","rlogin","scp"], explanation:"`ssh` connects to remote systems securely." },
    { q: "Which command transfers files securely?", type:"multiple-choice", a:["sftp"], options:["sftp","scp","ftp","rsync"], explanation:"`sftp` securely transfers files." }
    // Continue filling out the full pool until all questions you gave are included
];

// ===================== QUIZ LOGIC =====================
let selectedQuestions = [];
let currentQuestionIndex = 0;
let answersLog = [];

function shuffleArray(array) {
    return array.sort(() => Math.random() - 0.5);
}

document.getElementById("start-btn").addEventListener("click", () => {
    document.getElementById("cover").style.display = "none";
    document.getElementById("quiz").style.display = "block";

    // Pick 50 random questions
    selectedQuestions = shuffleArray([...questionPool]).slice(0,50);
    showQuestion();
});

const questionEl = document.getElementById("question");
const answersEl = document.getElementById("answers");
const feedbackEl = document.getElementById("feedback");
const nextBtn = document.getElementById("next-btn");
const progressEl = document.getElementById("progress");
const resultsEl = document.getElementById("results");
const memeEl = document.getElementById("meme");

function showQuestion() {
    if (currentQuestionIndex >= selectedQuestions.length) {
        showResults();
        return;
    }

    const qObj = selectedQuestions[currentQuestionIndex];
    progressEl.textContent = `Question ${currentQuestionIndex + 1} of ${selectedQuestions.length}`;
    questionEl.textContent = qObj.q;
    feedbackEl.textContent = "";
    memeEl.textContent = "";
    nextBtn.style.display = "none";
    answersEl.innerHTML = "";

    if (qObj.type === "multiple-choice" || qObj.type === "true-false") {
        let options = qObj.type==="true-false" ? ["True","False"] : shuffleArray(qObj.options);
        options.forEach(opt => {
            const btn = document.createElement("button");
            btn.textContent = opt;
            btn.addEventListener("click", () => selectAnswer(opt));
            answersEl.appendChild(btn);
        });
    } else if (qObj.type === "fill-in") {
        const input = document.createElement("input");
        input.type = "text";
        input.placeholder = "Type your answer here";
        answersEl.appendChild(input);
        const submitBtn = document.createElement("button");
        submitBtn.textContent = "Submit";
        submitBtn.addEventListener("click", () => selectAnswer(input.value));
        answersEl.appendChild(submitBtn);
    } else if (qObj.type === "select-all") {
        qObj.options.forEach(opt => {
            const cb = document.createElement("input");
            cb.type = "checkbox";
            cb.value = opt;
            cb.id = "cb"+opt;
            const label = document.createElement("label");
            label.htmlFor = "cb"+opt;
            label.textContent = opt;
            answersEl.appendChild(cb);
            answersEl.appendChild(label);
            answersEl.appendChild(document.createElement("br"));
        });
        const submitBtn = document.createElement("button");
        submitBtn.textContent = "Submit";
        submitBtn.addEventListener("click", () => {
            const selected = Array.from(answersEl.querySelectorAll("input[type=checkbox]"))
                .filter(cb => cb.checked)
                .map(cb => cb.value);
            selectAnswer(selected);
        });
        answersEl.appendChild(submitBtn);
    }
}

function selectAnswer(answer) {
    const qObj = selectedQuestions[currentQuestionIndex];
    let isCorrect = false;

    if (Array.isArray(answer)) {
        // select-all
        isCorrect = JSON.stringify(answer.sort()) === JSON.stringify(qObj.a.sort());
    } else {
        isCorrect = qObj.a.some(a => a.toLowerCase() === answer.toLowerCase());
    }

    feedbackEl.innerHTML = isCorrect
        ? `<span style="color:#0a0">Correct!</span> ${qObj.explanation}`
        : `<span style="color:#a00">Wrong.</span> Correct answer: ${qObj.a.join(", ")}. ${qObj.explanation}`;

    // Add meme sometimes
    if (Math.random() < 0.2) memeEl.textContent = ["¬Ø\\_(„ÉÑ)_/¬Ø","Did you really just do that? üòπ","Linux hates you now üòà"][Math.floor(Math.random()*3)];

    answersLog.push({
        question: qObj.q,
        yourAnswer: Array.isArray(answer)?answer.join(", "):answer,
        correctAnswer: qObj.a.join(", "),
        correct: isCorrect
    });

    Array.from(answersEl.querySelectorAll("button,input")).forEach(el => el.disabled = true);

    nextBtn.style.display = "inline-block";
}

nextBtn.addEventListener("click", () => {
    currentQuestionIndex++;
    showQuestion();
});

function showResults() {
    questionEl.textContent = "Quiz Complete!";
    answersEl.innerHTML = "";
    feedbackEl.textContent = "";
    memeEl.textContent = "";
    nextBtn.style.display = "none";
    progressEl.textContent = "";

    let html = "<h2>Results</h2>";
    html += "<table><tr><th>Question</th><th>Your Answer</th><th>Correct Answer</th></tr>";
    answersLog.forEach(a => {
        html += `<tr>
            <td>${a.question}</td>
            <td class="${a.correct ? 'correct' : 'wrong'}">${a.yourAnswer}</td>
            <td>${a.correctAnswer}</td>
        </tr>`;
    });
    html += "</table>";
    resultsEl.innerHTML = html;
}
</script>
</body>
</html>
